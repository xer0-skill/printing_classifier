function demo(a){preventDefault(a);alert("В демо-версии функция недоступна.");}var messages=new Array();var mFF=(navigator.appName.indexOf("Netscape")!=-1);var isClientApp=(document.location.href.indexOf("PhizIC")!=-1||(document.location.href.indexOf("mobile")!=-1&&document.location.href.indexOf("PhizIA")==-1));var leftMenuSize=210;var termless="Бессрочный";var orderParametersCount=3;var RoundingMode=new RoundingMode();var preLoadersCount=0;function initPaymentTabIndex(){$(document).on("keypress",".buttonGreen",function(a){clickIfEnterKeyPress(this,a);});$(document).on("keypress",".buttonGrey",function(a){clickIfEnterKeyPress(this,a);});$(document).on("keypress",".simpleLink",function(a){clickIfEnterKeyPress(this,a);});$(document).on("keypress",".boldLink",function(a){clickIfEnterKeyPress(this,a);});$("#payment .paymentValue input").attr("tabindex",1);$("#payment .paymentValue textarea").attr("tabindex",1);$("#payment .paymentValue select").attr("tabindex",1);$("#payment .paymentValue .description a").attr("tabindex",1);$("#payment .clientButton .boldLink a").attr("tabindex",50);$("#payment .commandButton .boldLink a").attr("tabindex",50);$("#makeLongOfferButton .commandButton a").attr("tabindex",40);$("#payment .buttonsArea .clientButton .buttonGrey a").attr("tabindex",30);$("#payment .buttonsArea .commandButton .buttonGreen a").attr("tabindex",20);$("#payment .buttonsArea .clientButton .buttonGreen a").attr("tabindex",20);}function clickIfEnterKeyPress(a,c){var b=navigator.appName=="Netscape"?c.which:c.keyCode;if(b!=13){return;}a.onclick();}function doIfEnterKeyPress(b,c){var a=navigator.appName=="Netscape"?b.which:b.keyCode;if(a!=13){return;}c();}function initData(){formValues.init();}function getChangedFieldNames(){return formValues.getChangedFieldNames();}function postChangedFieldNames(){var b="";var f=getChangedFieldNames();for(var c=0;c<f.length;c++){var e=f[c].indexOf("field(")+"field(".length;var a=f[c].indexOf(")");if(e!=-1&&a!=-1){b+=f[c].substring(e,a)+";";}else{if(b.indexOf(f[c])!=-1){b+=f[c]+";";}}}if(b.length>0){var d=document.createElement("input");d.setAttribute("name","$$changedFields");d.setAttribute("type","hidden");d.setAttribute("value",b);document.forms[0].appendChild(d);}}function in_array(b,c){if(c==null||c==undefined){return false;}for(var a=0;a<c.length;a++){if(c[a]==b){return true;}}return false;}var formValues={data:{},init:function(){this.data=this.getArrayValues();},getElementValue:function(a){if(a.tagName=="INPUT"){if(a.type=="text"||a.type=="hidden"){return a.value;}if(this.isCheckboxOrRadio(a)){return a.checked?a.value:false;}}if(a.tagName=="SELECT"){if(a.selectedIndex==-1||a.options.length==0){return null;}return a.options[a.selectedIndex].value;}if(a.tagName=="TEXTAREA"){return a.value;}},getArrayValues:function(){var e=document.forms[0];var a={};for(var d=0;d<e.elements.length;d++){var g=$(e.elements[d]).parents(".widget");if(g.length!=0){continue;}if(!isEmpty(e.elements[d].name)){var c=e.elements[d].name;var f=this.getElementValue(e.elements[d]);if(a[c]==undefined){a[c]=f;}else{if(!(a[c] instanceof Array)){var b=a[c];a[c]=new Array();a[c].push(b);}a[c].push(f);}}}return a;},getChangedFieldNames:function(){var a=new Array();if(this.equals()){return a;}var b=this.getArrayValues(document.forms[0]);for(var c in b){if(this.isEmpty(this.data[c])&&this.isEmpty(b[c])){continue;}if(this.isEmpty(this.data[c])||this.isEmpty(b[c])){a.push(c);continue;}if(!this.valueEquals(this.data[c],b[c])){a.push(c);}}return a;},isEmpty:function(a){return a==null||a==undefined;},equals:function(d){var a=this.getArrayValues(document.forms[0]);var c=null;if(!this.isEmpty(d)){c=d.split(",");}if(this.count(a)!=this.count(this.data)){return false;}for(var b in a){if(this.isEmpty(this.data[b])&&this.isEmpty(a[b])){continue;}if(this.isEmpty(this.data[b])||this.isEmpty(a[b])){return false;}if(!this.isEmpty(d)&&(!this.isEmpty(getElement(b).id)&&(getElement(b).id==d||in_array(b,c)))){continue;}if(!this.valueEquals(this.data[b],a[b])){return false;}}return true;},checkElements:function(d){var a=this.getArrayValues(document.forms[0]);if(this.isEmpty(d)){return true;}var c=null;if(!this.isEmpty(d)){c=d.split(",");}for(var b in a){if(!in_array(b,c)){continue;}if(this.isEmpty(this.data[b])&&this.isEmpty(a[b])){continue;}if(this.isEmpty(this.data[b])||this.isEmpty(a[b])){return false;}if(!this.valueEquals(this.data[b],a[b])){return false;}}return true;},isNewDisplayed:function(a){var d=a.split(/(\d)/)[0];var b=this.data[d];var e=(this.getArrayValues(document.forms[0]))[d];if(b instanceof Array&&e instanceof Array){for(var c=0;c<b.length;c++){if(b[c]==false&&e[c]!=false){return true;}}return false;}return b==false&&e!=false;},count:function(c){var a=0;for(var b in c){a++;}return a;},valueEquals:function(a,c){if(a instanceof Array&&c instanceof Array){if(a.length!=c.length){return false;}for(var b=0;b<a.length;b++){if(a[b]!=c[b]){return false;}}return true;}return a===c;},isCheckboxOrRadio:function(a){return a.tagName=="INPUT"&&(a.type=="checkbox"||a.type=="radio");
}};function isDataChanged(a){return !formValues.equals(a);}function selectDataChanged(a){return !formValues.checkElements(a);}function isMoreShown(a){return formValues.isNewDisplayed(a);}function reinitField(){var g=[];if(document.forms.length==0||isEmpty(formValues.data)){return;}var e=document.forms[0];for(var c=0;c<e.elements.length;c++){var b=e.elements[c];if(formValues.data[b.name]==undefined){continue;}if(!formValues.isEmpty(g[b.name])){continue;}g[b.name]=true;var f=formValues.data[b.name];if(f instanceof Array){var d=0;$("[name='"+b.name+"']").each(function(){if(formValues.isCheckboxOrRadio(this)){this.checked=false;if($.inArray(this.value,f)!=-1){this.checked=true;}}else{if(this.tagName=="SELECT"){for(var h=this.options.length-1;h>=0;h--){if($.inArray(this.options[h].value,f)!=-1){this.selectedIndex=h;break;}}}else{this.value=f[d];}}d++;});}else{if(formValues.isCheckboxOrRadio(b)){b.checked=b.value==f;}else{if(b.tagName=="SELECT"){for(var a=b.options.length-1;a>=0;a--){if(b.options[a].value==f){b.selectedIndex=a;break;}}}else{b.value=f;}}}}}function breakString(d,a){if(d.length==0){return"<br/>";}if(d.length<=a){return d;}var b=0;var c=b;do{c=b;b=d.indexOf(" ",b+1);if((c==b)||((b==-1)&&(c==0))){b=a;}if((b==-1)&&(c!=0)){break;}}while(b<a);if(b==a){return d.substring(0,b);}return d.substring(0,c);}function preventDefault(a){if(a!=null){try{if(a.preventDefault){a.preventDefault();}else{a.returnValue=false;}}catch(b){}}}function getRadioValue(a){if(a.length>0){for(var b=0;b<a.length;b++){if(a[b].checked){return a[b].value;}}return null;}else{return(a.checked?a.value:null);}}function disableOrEnableRadio(b,a){if(b.length>0){for(var c=0;c<b.length;c++){b[c].disabled=a;}}else{b.disable=a;}}function setRadioValue(a,b){if(a.length>0){for(i=0;i<a.length;i++){if(a[i].value==b){a[i].checked=true;break;}}}else{if(a.value==b){a.checked=true;}}}function clearRadioChecked(a){if(a.length>0){for(i=0;i<a.length;i++){a[i].checked=false;}}else{a.checked=false;}}function getElement(a){try{var b=document.getElementsByName(a);return b[0];}catch(c){return null;}}function getField(a){return getElement("field("+a+")");}function setSelectBoxValue(a,d){var c=getElement(a);for(var b=0;b<c.options.length;b++){if(c.options[b].value==d){c.options[b].selected=true;break;}}}function getElementValue(a){try{var b=getElement(a);if(b.type=="checkbox"){return b.checked.toString();}else{return b.value;}}catch(c){return"";}}function setElement(a,c){try{$("*[name='"+a+"']").get(0).value=c;}catch(b){alert(b.description);}}function setElementByContainName(a,c){try{$('*[name*="'+a+'"]').get(0).value=c;}catch(b){alert(b.description);}}function setField(a,b){setElement("field("+a+")",b);}function addOrderParameter(d,b){if(b==null){b="ASC";}var c=new Object();c.value=d;c.direction=b;var a=new Array();a.push(c);for(i=0;i<orderParametersCount-1;i++){var d=getOrderParameter(i);if(d!=null){a.push(d);}}for(i=0;i<a.length;i++){if(getElement("$$order_parameter_"+i)!=null){setElement("$$order_parameter_"+i,a[i].value);setElement("$$order_parameter_"+i+"_direction",a[i].direction);}else{addElementToForm("$$order_parameter_"+i,a[i].value);addElementToForm("$$order_parameter_"+i+"_direction",a[i].direction);}}}function deleteOrderParameter(a){var b=new Array();for(i=0;i<orderParametersCount;i++){var c=getOrderParameter(i);if(c!=null){b.push(c);}}for(i=0;i<b.length;i++){if(b[i].value==a){b.splice(i,1);}}for(i=0;i<b.length;i++){setElement("$$order_parameter_"+i,b[i].value);setElement("$$order_parameter_"+i+"_direction",b[i].direction);}for(i=b.length;i<orderParametersCount;i++){if(getElement("$$order_parameter_"+i)!=null){setElement("$$order_parameter_"+i,null);setElement("$$order_parameter_"+i+"_direction",null);}}}function getOrderParameter(c){var a=getElement("$$order_parameter_"+c);var b=getElement("$$order_parameter_"+c+"_direction");if(a!=null){var d=new Object();d.value=a.value;d.direction=b.value;return d;}else{return null;}}function callUserOperation(e,f,a,b){var d=document.getElementsByName("selectedIds");for(var c=0;c<d.length;c++){d[c].checked=(d[c].value==f);}callOperation(e,a,b);}function groupError(a){if(a==""||a==null){alert("Выберите пользователей");}else{alert(a);}return false;}function getSelectedQnt(b){var d=document.getElementsByName(b);var a=0;for(var c=0;c<d.length;c++){if(d[c].checked){a++;}}return a;}function callGroupOperation(c,a,b,d){preventDefault(c);if(getSelectedQnt()==0){return groupError(d);}callOperation(c,a,b);}function checkSelection(b,a){if(getSelectedQnt(b)==0){clearLoadMessage();return groupError(a);}return true;}function checkOneSelection(b,a){if(getSelectedQnt(b)!=1){clearLoadMessage();return groupError(a);}return true;}function checkOneSelectionOrNothing(b,a){if(getSelectedQnt(b)==0){return true;}return checkOneSelection(b,a);}function initAccessDescription(){var b=document.getElementsByName("selectedIds");for(var a=0;a<b.length;a++){setAccessDescription(b[a]);}}function setAccessDescription(a){getLabel(a).innerHTML=(a.checked?"разрешен":"запрещен");
}function setEmptyAction(a){preventDefault(a);document.forms.item(0).action="";return true;}function getElementFromCollection(b,a){for(var c=0;c<b.length;c++){if(b[c].name==a){return b[c];}}return null;}function callOperation(d,a,b){var f=document.forms.item(0);preventDefault(d);if(b!=null&&b!=""&&!window.confirm(b)){return false;}if(f.onsubmit!=null&&!f.onsubmit()){return false;}if(window.clearMasks!=null){try{clearMasks(d);}catch(g){}}var c=getElementFromCollection(f.elements,"operation");if(c==null){addField("hidden","operation",a);}else{c.value=a;}if(typeof customPlaceholder!=="undefined"){customPlaceholder.clearPlaceholderVal();}f.submit();return true;}var Message=null;var ErrorMessage=null;function showMessage(){if(ErrorMessage!=null){alert(ErrorMessage);}if(Message!=null){alert(Message);}}function turnSelection(e,a,c){var d=document.forms.item(0);var b=document.getElementsByName(a);turnSelectionAlg(b,e,c);}function turnSelectionAlg(b,f,c){for(var a=0;a<b.length;a++){b[a].checked=f;try{b[a].onclick(b[a].id);}catch(d){}preventDefault(c);}}function switchSelection(a,b){a=(a==null?"isSelectAll":a);b=(b==null?"selectedIds":b);a=ensureElementByName(a);turnSelection(a.checked,b);}function resetForm(a){preventDefault(a);document.forms.item(0).reset();}function addParam2List(d,a,b){var c=getElementValue(a);if(c.length>0){if(d.length>0){d+="&";}d+=(b==null?a:b);d+="="+trim(c);}return d;}function getFirstSelectedId(a){if(a==null){a="selectedIds";}var b=document.getElementsByName(a);for(i=0;i<b.length;i++){if(b[i].checked){return b[i].value;}}return null;}function buttFocus(b){var a;if((typeof b)=="string"){a=document.getElementById(b);}else{a=b;}a.className="butMenu butMenuFocus";}function buttUnFocus(b){var a;if((typeof b)=="string"){a=document.getElementById(b);}else{a=b;}a.className="butMenu";}function linkUnFocus(a,b){document.getElementById("img"+b).src=document.imgPath+"iconSm_circle.gif";document.getElementById("spanA"+b).className="menuInsertText";a.className="linkUnFocus";}function linkFocus(a,b){document.getElementById("img"+b).src=document.imgPath+"iconSm_circleRed.gif";document.getElementById("spanA"+b).className="menuLinkText";a.className="linkFocus";}function cancelEvent(a){try{a.cancelBubble=true;a.returnValue=false;}catch(b){a.preventDefault();}}function trim(b){if(b==undefined||b==null){return"";}var a=new String(b);a=a.replace(/^\s+/,"");return a.replace(/\s+$/,"");}function clearOptions(b){try{var d=b.options.length;for(var a=0;a<d;a++){b.remove(0);}}catch(c){}}function addOption(d,a,e,b){var c=document.createElement("option");c.value=a;c.text=e;c.selected=b;d.options.add(c);}function selectRow(d,c){var a=d.cells[0].childNodes;var b;if(c==null){c="selectedId";}for(i=0;i<a.length;i++){b=a.item(i);if(b.name==c){b.checked=true;}}}function setBankInfo(a){setElement("bankName",a["name"]);setElement("receiverBIC",a["BIC"]);setElement("receiverCorAccount",a["account"]);}function setOperationCodeInfo(a){setElement("operationCode",a["operationCode"]);}function setReceiverInfo(a){setElement("receiverName",a["receiverName"]);setElement("receiverINN",a["receiverINN"]);setElement("receiverKPP",a["receiverKPP"]);setElement("receiverAccount",a["receiverAccount"]);setBankInfo(a);}function openSelectReceiverWindow(){var a="";a=addParam2List(a,"receiverName","nameFilter");a=addParam2List(a,"receiverAccount","accountFilter");a=addParam2List(a,"bankName","bankNameFilter");if(a.length>0){a="&amp;"+a;}window.open(document.webRootPrivate+"/receivers/list.do?action=getReceiverInfo&kind=P"+a,"Receivers","resizable=1,menubar=0,toolbar=0,scrollbars=1");}function openWindow(c,d,b,a){preventDefault(c);if(a==null){a="resizable=1,menubar=1,toolbar=1,scrollbars=1";}return window.open(d,b,a);}function openDialog(f,e,a,d){var b="fullscreen=0,location=0,menubar=0,status=0,toolbar=0,resizable=1"+", width="+e+", height="+a+", left="+(screen.width-e)/2+", top="+(screen.height-a)/2;var c=openWindow(f,d,"dialog",b);c.focus();}function addHidden(d,a){var c=document.forms.item(0);for(i=0;i<d.length;i++){if(d[i].checked){var b=document.createElement("input");b.name=a;b.type="hidden";b.value=d[i].value;c.appendChild(b);}}}function hiddenTab(a){try{if(a==0){document.getElementById("headTabAcc").style.display="none";}else{document.getElementById("messageTab").style.display="none";}}catch(b){}}function hideTitle(b){if(b==null){b="tableTitle";}try{document.getElementById(b).style.display="none";}catch(a){}}function onEnterKey(d){var c=navigator.appName=="Netscape"?d.which:d.keyCode;if(c==13){var a=findDefaultCommandButton();var b=findDefaultClientButton();if(a!=null){clickToButton(d,a);}else{if(b!=null){clickToButton(d,b);}}saveOffset();}}function clickToButton(b,a){a.click();if(b.preventDefault){b.preventDefault();}else{b.returnValue=false;}}function hideOrShowMakeLongOfferButton(a){$(document).ready(function(){var b=ensureElement("makeLongOfferButton");if(b!=null){hideOrShow(b,a);}});}function ensureElement(a){if(typeof(a)=="string"){a=document.getElementById(a);
}return a;}function ensureElementByName(a){if(typeof(a)=="string"){a=getElement(a);}return a;}function getLabel(a){a=ensureElement(a);return document.getElementById(a.id+"_lbl");}function hideOrShow(b,a){b=ensureElement(b);if(a==null){a=b.style.display!="none";}if(b!=null){b.style.display=a?"none":"";}}function hideOrShowTableRows(c,b,f){c=ensureElement(c);var d=c.rows;for(var a=0;a<d.length;a++){var e=d[a];if(e.id.match(f)){hideOrShow(e,b);}}}function hideOrShowTableBodies(c,b,f){c=ensureElement(c);var d=c.tBodies;for(var a=0;a<d.length;a++){var e=d[a];if(e.id.match(f)){hideOrShow(e,b);}}}function clearFields(c){if(c!=null){var b=0;if(c.childNodes!=null){b=c.childNodes.length;}if(b==0){if(c.tagName=="INPUT"){if(c.type=="text"){c.value="";}if(c.type=="checkbox"){c.checked=false;}}}else{if(c.tagName=="SELECT"){for(var a=1;a<c.options.length;a++){c.options[a].selected=false;}c.options[0].selected=true;}for(var a=0;a<b;a++){clearFields(c.childNodes[a]);}}}}function clearFilter(a){$(":input","form").removeAttr("checked").removeAttr("selected").not(":button, :submit, :reset, :hidden, :radio, :checkbox").val("");cancelEventCrossBrowser(a);}function switchFilter(c){var b=document.getElementById("filterFields");var d=document.getElementById("showFilterButton");var a=(b.style.display=="none");b.style.display=(a?"block":"none");cancelEventCrossBrowser(c);}function Str2Date(d){var a,c,b;a=parseInt(d.substr(0,2),10);c=parseInt(d.substr(3,2),10);year=parseInt(d.substr(6),10);if(isNaN(a)||isNaN(c)||isNaN(year)){return null;}if((a>31)||(a<1)||(c>12)||(c<1)){return null;}b=new Date(c+"/"+a+"/"+year);if(b.getDate()!=a){return null;}return b;}function Str2Time(b){var a,c,d;a=parseInt(b.substr(0,2),10);c=parseInt(b.substr(3,2),10);if(isNaN(a)||isNaN(c)){return null;}if((a>24)||(a<0)||(c>60)||(c<0)){return null;}d=new Date(0,0,0,a,c);return d;}var sumErr;function checkCharset(d,b){var a,c;for(a=0;a<b.length;a++){c=b.charAt(a);if(d.indexOf(c)==-1){return false;}}return true;}function checkNumber(d,a){var c=getElementValue(d);var b=parseInt(c,10);if(c.length==0){return true;}if(!checkCharset("0123456789",c)||isNaN(b)){alert('Поле "'+a+'": может содержать только цифры');return false;}return true;}function checkSum(e,b,a){var c=getElementValue(e);var d=parseFloat(c);sumErr="";if(c==""){return 0;}if(!checkCharset("0123456789.",c)||isNaN(d)){sumErr='Поле "'+b+'": сумма может содержать только цифры и точку';return null;}if(a&&(d<0.01||d>999999999.99)){sumErr='Поле "'+b+'": значение суммы должно быть в диапазоне 0.01 - 999999999.99';return null;}return d;}function checkSumRange(b,a,d,c){var e="";s1=checkSum(b,d,true);if(s1==null){e+="\n"+sumErr;}s2=checkSum(a,c,true);if(s2==null){e+="\n"+sumErr;}if(s1!=null&&s2!=null){if(s1>0&&s2>0){if(s2<s1){e+="\nКонечная сумма должна быть больше или равна начальной!";}}}if(e!=""){alert(e);return false;}return true;}function validatePeriod(k,j,g,f,c){var e="";var d=document.getElementById(k).value;var h=document.getElementById(j).value;if(!c.validate(d)){e+="\n"+g;}if(!c.validate(h)){e+="\n"+f;}var b=Str2Date(d);var a=Str2Date(h);if(a<b){e+="\nКонечная дата должна быть больше или равна начальной!";}return e;}function validateDatePeriod(f,d){var g="Пожалуйста, укажите дату начала периода в формате ДД/ММ/ГГГГ.";var b="Пожалуйста, укажите дату окончания периода в формате ДД/ММ/ГГГГ.";var e="Конечная дата должна быть больше или равна начальной!";var c=Str2Date(f),a=Str2Date(d);if((c==null)||!templateObj.ENGLISH_DATE.validate(f)){addError(g);return false;}if((a==null)||!templateObj.ENGLISH_DATE.validate(d)){addError(b);return false;}if(a<c){addError(e);return false;}removeError(g);removeError(b);removeError(e);return true;}function validateTimePeriod(g,e){var f="Пожалуйста, укажите время начала в формате ЧЧ:ММ.";var b="Пожалуйста, укажите время завершения ЧЧ:ММ.";var d="Конечное время должно быть больше или равно начальному!";var c=Str2Time(g),a=Str2Time(e);if((c==null)||!templateObj.SHORT_TIME.validate(g)){alert(f);return false;}if((a==null)||!templateObj.SHORT_TIME.validate(e)){alert(b);return false;}if(a<c){alert(d);return false;}return true;}function checkPeriod(k,j,h,g,a){var c,b,e=null,d=null;var f="";c=getElementValue(k);if(c!=DATE_TEMPLATE&&c!=""){e=Str2Date(c);if(e==null){if(c.substr(2,1)=="."&&c.substr(5,1)=="."){if(c.substr(0,2)>31||c.substr(0,2)<1||c.substr(3,2)>12||c.substr(3,2)<1){f+='\nПоле "'+h+'":  задана некорректная дата!';}}else{f+='\nПоле "'+h+'":  задайте дату в формате ДД.ММ.ГГГГ!';}}}b=getElementValue(j);if(b!=DATE_TEMPLATE&&b!=""){d=Str2Date(b);if(d==null){if(b.substr(2,1)=="."&&b.substr(5,1)=="."){if(b.substr(0,2)>31||b.substr(0,2)<1||b.substr(3,2)>12||b.substr(3,2)<1){f+='\nПоле "'+g+'":  задана некорректная дата!';}}else{f+='\nПоле "'+g+'":  задайте дату в формате ДД.ММ.ГГГГ!';}}}if(a&&((c==DATE_TEMPLATE)||(b==DATE_TEMPLATE)||(c=="")||(b==""))){f+="\nЗадайте обе даты!";}if((e!=null)&&(d!=null)){if(d<e){f+="\nКонечная дата должна быть больше или равна начальной!";}}if(f!=""){clearLoadMessage();
alert(f);return false;}return true;}function buildList(a){preventDefault(a);if(checkData()){clearMasks(a);callOperation(a,"");}}function checkPayment(a){if(window.checkData==null){return true;}else{if(checkData()){if(window.clearMasks!=null){clearMasks(a);}return true;}}return false;}var days=["день","дня","дней"];var months=["месяц","месяца","месяцев"];var years=["год","года","лет"];function formatPeriod(c){var d=new Number(c.substring(0,2));if(d>0){return d+" "+selectSklonenie(d,years);}var b=new Number(c.substring(3,5));if(b>0){return b+" "+selectSklonenie(b,months);}var a=new Number(c.substring(6,c.length));if(a>0){return a+" "+selectSklonenie(a,days);}if(d==0&&b==0&&a==0){return termless;}throw new Error("Неправильный формат [period]: "+c);}function formatTwoPeriods(g,d){if(d!=null&&d!=""&&d!="00-00-000"&&g!=d){var h=new Number(g.substring(0,2));var f=new Number(g.substring(3,5));var a=new Number(g.substring(6,g.length));if(h==0&&f==0&&a==0){return termless;}else{if(h>0){var c=new Number(d.substring(0,2));if(h>c){throw new Error("Неправильно заданный период [period1]:"+g+", [period2]:"+d);}return h+" - "+c+" "+selectSklonenie(c,years);}else{if(f>0){var e=new Number(d.substring(3,5));if(f>e){throw new Error("Неправильно заданный период [period1]:"+g+", [period2]:"+d);}return f+" - "+e+" "+selectSklonenie(e,months);}else{if(a>0){var b=new Number(d.substring(6,d.length));if(a>b){throw new Error("Неправильно заданный период [period1]:"+g+", [period2]:"+d);}return a+" - "+b+" "+selectSklonenie(b,days);}else{throw new Error("Неправильный формат [period]: "+g);}}}}}else{return formatPeriod(g);}}var indexes=[2,0,1,1,1,2,2,2,2,2];function selectSklonenie(c,b){var a=Math.floor((c%100)/10)==1?0:c%10;return b[indexes[a]];}function periodToDays(c){var d=new Number(c.substring(0,2));if(d!=0){return d*365;}var b=new Number(c.substring(3,5));if(b!=0){return b*30;}var a=new Number(c.substring(6,c.length));if(a!=0){return a;}throw new Error("Неправильный формат [period]: "+c);}Array.prototype.contains=function(c,b){if(b==null){b=function(e,d){return e==d;};}for(var a=0;a<this.length;a++){if(b(this[a],c)){return true;}}return false;};function formatMoney(a){if(a==null||a==""){a=0;}return new Number(a).toFixed(2);}function monthToStringOnly(b){var c;var a;a="";c=b.substring(3,5)-1;a=a+monthToStringByNumber(c);return a;}function monthToStringByNumber(b){var a="";switch(b){case 0:a="января";break;case 1:a="февраля";break;case 2:a="марта";break;case 3:a="апреля";break;case 4:a="мая";break;case 5:a="июня";break;case 6:a="июля";break;case 7:a="августа";break;case 8:a="сентября";break;case 9:a="октября";break;case 10:a="ноября";break;case 11:a="декабря";break;default:a="";break;}return a;}function StrCheck(d,b){var a,c;for(a=0;a<b.length;a++){c=b.charAt(a);if(d.indexOf(c)==-1){return false;}}return true;}function saveAndRedirectOld(a,b){if(!b&&!isDataChanged()){return true;}if(!confirm("Сохранить изменения и перейти на другую страницу?")){return false;}findNavigationButton().click(a);return false;}function saveAndRedirect(a,b,c){if(!c&&!isDataChanged()){loadNewAction("lmi"+b,"lmInset");return window.location=a;}if(!confirm("Сохранить изменения и перейти на другую страницу?")){clearLoadMessage();reinitField();return false;}findNavigationButton().click(b);return false;}function showOrHideItems(b){var a=document.getElementById(b);a.style.display=(a.style.display=="block"?"none":"block");}function addFieldWithCheck(a,d,c){if(document.getElementById){var b=$("input[name='"+d+"']")[0];if(b){if(document.all){b.type=a;b.name=d;b.value=c;}else{b.setAttribute("type",a);b.setAttribute("name",d);b.setAttribute("value",c);}}else{addField(a,d,c);}}}function addField(a,d,c){if(document.getElementById){var b=document.createElement("INPUT");if(document.all){b.type=a;b.name=d;b.value=c;}else{if(document.getElementById){b.setAttribute("type",a);b.setAttribute("name",d);b.setAttribute("value",c);}}document.forms[0].appendChild(b);}}function addEventListenerEx(d,b,c,a){if(typeof(d)=="string"){if(!(d=document.getElementById(d))){var e=d+" element not found";alert(e);throw e;}}if(d.addEventListener){d.addEventListener(b,c,a);}else{if(d.attachEvent){d.attachEvent("on"+b,c);}else{d["on"+b]=c;}}}function getElementTextContent(a){if(mFF){return a.textContent;}else{return a.innerText;}}function forEach(e,d,a){for(var b=0;b<e.length;b++){var c=e[b];if(a==null||a(c)){d(c);}}}function getClientWidth(){return document.compatMode=="CSS1Compat"&&!window.opera?document.documentElement.clientWidth:document.body.clientWidth;}function getClientHeight(){return document.compatMode=="CSS1Compat"&&!window.opera?document.documentElement.clientHeight:document.body.clientHeight;}function cancelEventCrossBrowser(a){if(mFF){preventDefault(a);}else{cancelEvent(a);}}function hideColumn(f,e,b,d,a){var c=$("#HeaderTable_"+f).parent().parent().parent().parent().find("#RowContent"+b);var g=$("#HeaderTable_"+f).parent().parent().parent().parent().find("#HideContent"+b);if(c[0].style.display==="none"){d.innerHTML=("<image src='"+document.imgPath+"iconSm_triangleLeft.gif' border='0'/>");
c.show();g.hide();}else{d.innerHTML=("<image src='"+document.imgPath+"iconSm_triangleRight.gif' border='0'/>");c.hide();g.show();}cancelEventCrossBrowser(e);}function getElementPosition(f){var e=document.getElementById(f);var b=e.offsetWidth;var d=e.offsetHeight;var a=0;var c=0;while(e){a+=e.offsetLeft;c+=e.offsetTop;e=e.offsetParent;}return{"left":a,"top":c,"width":b,"height":d};}function getParentOffset(b){var a=document.getElementById(b).parentNode;while(a.tagName.toLowerCase()!="html"){if($(a).css("position")=="relative"){return a;}a=a.parentNode;}return null;}function showLayerFull(h,f,p,a){if((document.getElementById(f)&&document.getElementById(h))!=null){var o=a.clientX;var l=a.clientY;var n=getElementPosition(h);var j=document.getElementById(f);if(document.getElementById("workspaceDiv")!=null&&navigator.appName=="Microsoft Internet Explorer"){var g=getElementPosition("workspaceDiv");o-=g.left;l-=g.top;}var q=screen.width-a.screenX;var k=document.body.offsetWidth-o;var b;var d;var m;var e=0;if(navigator.appName=="Microsoft Internet Explorer"){b=280;d=140;e=document.getElementById("leftMenu").offsetWidth;m=document.getElementById("workspaceDiv").scrollTop;k=document.body.clientWidth-o-e;}else{b=270;d=101;m=window.scrollY;}if(q<b||k<b){if(q<b&&k<b){if(q>k){o-=o+b-document.body.clientWidth+e;}else{o-=a.screenX+b-screen.width;}}else{if(q<b){o-=a.screenX+b-screen.width;}else{o-=o+b-document.body.clientWidth+e;}}}if(a.clientY+d>document.body.offsetHeight){l-=a.clientY+d-document.body.offsetHeight;}j.style.top=l+m;j.style.left=o;j.style.display="block";document.getElementById(h).style.cursor=p;}}function showLayer(d,c,j,g){if((document.getElementById(c)&&document.getElementById(d))!=null){var h=getElementPosition(d);var b=h.left;var f=h.top;var e=document.getElementById(c);var a=getParentOffset(c);if($(e).css("position")=="absolute"&&a!=null){f-=a.offsetTop;b-=a.offsetLeft;}if(g){e.style.left=b-g;}else{$(e).css("left",b);}$(e).css("top",f);$(e).show();document.getElementById(d).style.cursor=j;}}function showHint(g,a,f,d){var c=document.getElementById(g);var b=document.getElementById(a);b.innerHTML=d;var e={"left":($(c).position().left)+"px","top":($(c).position().top+c.offsetHeight)+"px"};$(b).css(e);$(b).show();$(c).css({"cursor":f});}function hideLayer(a){if(document.getElementById(a)!=null){var b=document.getElementById(a);b.style.display="none";}}function showOperationTypeList(a,b){return((isResident(b)||isResident(a))&&(checkReceiverAccount(b)||checkPayerAccount(a)));}function isResident(b){if(b==null||b==""){return false;}var a=b.substring(0,5);return(a=="40807"||a=="40820"||b.substring(0,3)=="426");}function checkReceiverAccount(d){var a=d.substring(0,5);var e=new Array("40807","40819","40820","40813","40814","40815");for(var b=0;b<6;b++){if(a==e[b]){return true;}}var c=d.substring(13,15);if(a=="40818"&&(c>13)&&(c<19)){return true;}if(d.substring(0,3)=="426"){return true;}return false;}function checkPayerAccount(a){return(a.substring(0,5)=="40820"||a.substring(0,3)=="426");}function setOperaSettings(){if(navigator.appName=="Opera"){document.getElementById("leftMenu").className="";document.getElementById("workspaceDiv").className="";}}function changeDivHeightForNetscape(a){if(navigator.appName=="Netscape"&&document.getElementById("workspaceDiv")!=null&&document.getElementById(a)!=null&&document.getElementById("systemsNews")!=null){document.getElementById("workspaceDiv").style.height=getClientHeight()-200;document.getElementById("workspaceDiv").className="";document.getElementById("workspaceDiv").style.overflow="hidden";document.getElementById(a).style.height=getElementPosition("workspaceDiv").height-getElementPosition("systemsNews").height;if(getElementPosition("systemsNewsContent")!=null){document.getElementById(a).style.height-=getElementPosition("systemsNewsContent").height;}}}function changeDivSize(b){var a=getClientWidth();if(navigator.appName=="Microsoft Internet Explorer"){document.getElementById(b).style.width=a-leftMenuSize-10;}}var selectLoadInset=false;function adminBeforUnload(d,c){var e=document.getElementById("centerLoadDiv");var b=document.getElementById("bgWorkspaceRegion");var a=navigator.userAgent.indexOf("MSIE 6.0");if(d!=""&&document.getElementById(d)&&!selectLoadInset){document.getElementById(d).style.display="block";selectLoadInset=true;}if(e&&b){b.style.display="block";e.style.display="block";var f=document.getElementById("lmInformationArea");if(a>=0&&f){e.style.left=b.clientWidth/2+f.offsetWidth+50;}}if(c!="lmInset"&&document.getElementById("mmInsetActive")){document.getElementById("mmInsetActiveLeftCorner").className="mmInsetLeftCorner";document.getElementById("mmInsetActive").className="mmInset";document.getElementById("mmInsetActiveRightCorner").className="mmInsetRightCorner";}if(document.getElementById("subMActiveInset")){document.getElementById("subMActiveInset").className="subMInactiveInset";}}function getWorkSpace(a){if(a){return document.getElementById("pageContent");}var b=document.getElementById("workspace");
if(b==null){b=document.getElementById("LoginDiv");}if(b==null){b=$(".print")[0];}if(b==null){b=$(".mainContent.guest-payment").get(0);}return b;}function workCenter(b,g){var a=getWorkSpace(g);var j=absPosition(a);var e=screenSize();var c=getScrollTop();var d=e.h/2;var k=0;if(j.top-c>0){k=j.top-c;}var h=e.h;if(b.offsetHeight+70>=a.offsetHeight){var l=document.getElementById("footer");var f=absPosition(l);if(e.h+c>f.top){h=e.h-(e.h+c-(f.top));}return{topCenter:k+(h-k)/2+c,abs:j};}if(e.h+c>a.offsetHeight+j.top){h=e.h-(e.h+c-(a.offsetHeight+j.top));}return{topCenter:k+(h-k)/2+c,abs:j};}function showOrHideWaitDiv(g,d){var h=-3300;g=(g==null)?true:g;var e=true;if(window.win!=undefined){e=win.active==null;}var b=ensureElement("loading");var f=$("#loading");if(!g){f.trigger("preloaderHide");if(e){setTintedDiv(g);}b.style.left=h+"px";win.tinedWindows(g);switchEvent("modalWindowScrollEvent",false);return;}f.trigger("preloaderShow");switchEvent("modalWindowScrollEvent",true);win.tinedWindows(g);b.divFloat=new DivFloat(b);b.style.left="";setLoadingStyle();var c;addSwitchableEvent(window,"scroll",function(){clearTimeout(b.divFloat.floatTimer);var k=/\d*/;var l=parseInt(k.exec(b.style.top));clearTimeout(c);c=setTimeout(function(){b.divFloat.floatEffect(l,workCenter(b).topCenter-b.offsetHeight/2);},50);},"loadingScrollEvent");if(e){setTintedDiv(g);}if(navigator.userAgent.indexOf("MSIE")>=0){var j=ensureElement("loadingImg");var a=j.getElementsByTagName("img")[0].src;j.innerHTML='<img src="'+a+'"/>';}}function absPosition(c){var b=0;var a=0;while(c&&c.id!="workspaceDiv"){b+=c.offsetLeft;a+=c.offsetTop;c=c.offsetParent;}return{left:b,top:a};}function setLoadingStyle(){var b=getWorkSpace();var c=ensureElement("loading");c.style.top=workCenter(c).topCenter-c.offsetHeight/2+"px";var a=absPosition(b);c.style.left=(a.left+b.offsetWidth/2-c.offsetWidth/2)+"px";}function setTintedDiv(a,c){var b=getWorkSpace(c);if(a==null){return;}TintedNet.setTinted(b,a,c);aditionalTintedAction(a);}function aditionalTintedAction(a){if(!isClientApp){return;}var b=document.getElementById("footer");if(b==null){return;}TintedNet.setTinted(b,a);}var TintedNet={RESIZE_EVENT:"ResizeEvent",tintedCount:0,tinted:[],setTinted:function(f,a,e){f=ensureElement(f);var h=this.getTintElement(f);if(a==null){a=!(h.style.display=="none");}if(!a){hideOrShow(h,true);return;}hideOrShow(h,false);h.style.width=f.offsetWidth+"px";h.style.height=f.offsetHeight+"px";if(navigator.userAgent.indexOf("MSIE 7.0")>=0){h.style.zIndex=getZindex(f)+(-1);}else{h.style.zIndex=getZindex(f)+(e?11:10);}var g=h.getElementsByTagName("div");for(var d=0;d<g.length;d++){g[d].style.width=h.style.width;g[d].style.height=h.style.height;}switchEvent(h.id+this.RESIZE_EVENT,!a);setPositionLikeObj(h,f);if(navigator.userAgent.indexOf("MSIE 8.0")>=0){var b=document.getElementById("workspace");var c=document.getElementById("popupInfromMessagesIdWin");if(b!=undefined&&b!=null&&c!=undefined&&c!=null){b.insertBefore(h,c);}}},getTintElement:function(d){d=ensureElement(d);if(d!=undefined){if(d.tinted){return d.tinted;}}var e=document.createElement("div");e.setAttribute("id","tinted"+this.tintedCount);e.className="tintedWrapper";document.body.appendChild(e);e=document.getElementById("tinted"+this.tintedCount);hideOrShow(e,true);var c=document.createElement("div");c.className="tinted opacity25";e.appendChild(c);var b=document.createElement("div");b.className="tintedNet";e.appendChild(b);this.tintedCount++;this.tinted.push(e);var a=this;if(d!=undefined){addSwitchableEvent(window,"resize",function(){a.setTinted(d);},e.id+this.RESIZE_EVENT);}switchEvent(e.id+this.RESIZE_EVENT,true);if(d!=undefined){d.tinted=e;}return e;},hideOrShowAllTinted:function(b){for(var a=0;a<this.tinted;a++){this.setTinted(this.tinted[a],!b);}}};var clientBeforeUnload={showTrigger:true,show:function(b){if(!this.showTrigger){this.showTrigger=true;return;}var a=this;setTintedDiv(true);b=(b==null)?true:b;if(b){var d=1000;setTimeout(function(){a.show(false);},d);return;}try{showOrHideWaitDiv();}catch(c){}addSwitchableEvent(window,"resize",function(){setLoadingStyle();},"loadindDivResizeEvent");},init:function(){var c=this;if(window.opera){var a=document.getElementsByTagName("a");for(var b=0;b<a.length;b++){if($(a[b]).attr("href")!=undefined&&$(a[b]).attr("href")!=""&&a[b].href.indexOf("#")<0&&a[b].href.indexOf("javascript:")<0&&a[b].target.toLowerCase()!="_blank"){$(a[b]).bind("click",function(){execIfRedirectResolved(function(){c.show(false);});});}}return;}window.onbeforeunload=function(){c.show();};}};function loadNewAction(b,a){if(!isClientApp){adminBeforUnload(b,a);}else{if(window.opera&&ensureElement("loading")!=null){clientBeforeUnload.show(false);}}return true;}function clearLoadMessage(){var g="centerLoadDiv";var b="bgWorkspaceRegion";var a=navigator.userAgent.indexOf("MSIE 6.0");var d=document.getElementById(g);var c=document.getElementById(b);if(window.opener){try{d=window.opener.document.getElementById(g);c=window.opener.document.getElementById(b);
}catch(f){}}if(d){d.style.display="none";}if(c){c.style.display="none";}}function getFieldValue(b){var a=document.getElementById(b);if(a==null){return"";}if(a.type=="checkbox"){return a.checked;}return a.value;}function openCountryDictionary(d,a){window.setCountryInfo=d;var c="&filter(code)="+a;var b=window.open(document.webRoot+"/private/dictionary/countries.do?action=getCountryInfo"+c,"Countries","resizable=1,menubar=0,toolbar=0,scrollbars=1, height=450, width=820");b.moveTo(screen.width/2-410,screen.height/2-225);}function openProvidersDictionary(b){window.setProviderInfo=b;var a=window.open(document.webRoot+"/private/dictionaries/provider/filter.do","Providers","resizable=1,menubar=0,toolbar=0,scrollbars=1,width=900px,height=800px");a.moveTo(screen.width/2-450,screen.height/2-400);}function openProvidersDictionaryForEmployee(d,b,a){window.setProviderInfo=d;if((a==null)||(a=="")){var c=window.open(document.webRoot+"/private/dictionaries/provider/list.do?action=getProvider&filter(kind)="+b,"Providers","resizable=1,menubar=0,toolbar=0,scrollbars=1,width=900px,height=800px");}else{var c=window.open(document.webRoot+"/private/dictionaries/provider/list.do?action=getProvider&filter(kind)="+b+"&filter(billingId)="+a,"Providers","resizable=1,menubar=0,toolbar=0,scrollbars=1,width=900px,height=800px");}c.moveTo(screen.width/2-450,screen.height/2-400);}function openGuestOperationConfirmLog(a){var c="resizable=1,menubar=0,toolbar=0,scrollbars=1,width=900px,height=800px";var b=window.open(document.webRoot+"/log/guest/entries.do?OUID="+a,"LogGuestEntries",c);b.moveTo(screen.width/2-450,screen.height/2-400);}function openPaymentServicesDictionary(c){window.setPaymentServiceInfo=c;var b="";var a=window.open(document.webRoot+"/private/dictionaries/paymentService/list.do?action=getPaymentServiceInfo"+b,"PaymentService","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openKBKDictionary(d,a){window.setKBKInfo=d;var c="&filter(code)="+a;var b=window.open(document.webRoot+"/private/dictionary/KBK.do?action=getKBKInfo"+c,"KBK","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.moveTo(screen.width/2-410,screen.height/2-225);}function openContactMembersDictionary(d,a){window.setKBKInfo=d;var c="&filter(code)="+a;var b=window.open(document.webRoot+"/private/dictionary/contact/members.do?action=getBankInfo"+c,"Banks","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.moveTo(screen.width/2-410,screen.height/2-225);}function openNationalBanksDictionary(f,a,b,c){window.setBankInfo=f;var e="&filter(bankName)="+a+"&filter(BIC)="+b;if(c!=null){e+="&filter(ourBank)="+c;}var d=window.open(document.webRoot+"/private/dictionary/banks/national.do?action=getBankInfo"+e,"Banks","resizable=1,menubar=0,toolbar=0,scrollbars=1, width=1040, height=600");d.moveTo(screen.width/2-410,screen.height/2-225);}function openOfficesDictionary(d,a){window.setOfficeInfo=d;var c="&filter(name)="+a;var b=window.open(document.webRoot+"/private/dictionary/offices.do?action=getOfficesInfo"+c,"Offices","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.moveTo(screen.width/2-410,screen.height/2-225);}function openDepartmentsDictionary(f,b,e,c,a){window.setDepartmentInfo=f;window.____checkDepartmentsInfo=b;var d=window.open(document.webRoot+"/departments/list.do?action=getDepartmentsInfo"+(e!=null?("&level="+e):"")+((c!=null&&c)?"&multipleChoice=true":"")+((a!=null&&a)?"&choiceAll=true":""),"Departments","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openAllowedTBDictionary(c,b){window.setDepartmentInfo=c;var a=window.open(document.webRoot+"/dictionaries/allowedTerbanks.do?type="+(b?"oneSelection":"manySelection"),"Departments","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openLoanOfficesDictionary(c){window.setLoanOfficeInfo=c;var b="";var a=window.open(document.webRoot+"/private/dictionary/offices/loans.do?action=getLoanOfficeInfo"+b,"LoanOffices","resizable=1,menubar=0,toolbar=0,scrollbars=1");a.moveTo(screen.width/2-410,screen.height/2-225);}function openGroupsDictionary(d,a){window.setGroupData=d;var c="";var b=window.open(document.webRoot+"/groups/list.do?category="+a+"&action=getGroupInfo"+c,"Groups","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.moveTo(screen.width/2-410,screen.height/2-225);}function openAdaptersDictionary(b){window.setAdapterInfo=b;var a=window.open(document.webRoot+"/dictionaries/routing/adapter/list.do?action=getRegionsInfo","Regions","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openRegionsDictionary(e,b,a){window.setRegionInfo=e;var d="/private/dictionary/regions/list.do?action=getRegionsInfo";if(b=="filter"){d="/private/dictionary/regions/list.do?action=getRegionsInfoFilter";
}if(a){d=d+"&needCode=true";}var c=window.open(document.webRoot+d,"Regions","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openIdentDepartment(b){window.setIdentDepartment=b;var a=window.open(document.webRoot+"/dictionaries/ident/departments/list.do","identDepartment","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openBillingsDictionary(b){window.setBillingInfo=b;var a=window.open(document.webRoot+"/dictionaries/billing/list.do?action=getBillingInfo","Billing","resizable=1,menubar=0,toolbar=0,scrollbars=1,width="+(getClientWidth()-100)+"px,height="+(getClientHeight()-100)+"px, left=50, top=50");}function openOperationTypesDictionary(d,a){window.setOperationCodeInfo=d;var c="fltrCode="+a;var b=window.open(document.webRoot+"/private/operationCodes.do?"+c,"OperationTypes","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.moveTo(screen.width/2-350,screen.height/2-400);}function openSegmentCodeTypeDictionary(b){window.setSegmentCodeTypeInfo=b;var a=window.open(document.webRoot+"/persons/segmentCodeType/list.do","Segments","resizable=1,menubar=0,toolbar=0,scrollbars=1, height=450, width=1000");a.moveTo(screen.width/2-410,screen.height/2-225);}function openTemplateList(a){var c="formType="+a;var b=window.open("../templates.do?"+c,"Templates","resizable=1,menubar=0,toolbar=0,scrollbars=1");b.resizeTo(width=750,height=500);b.moveTo(screen.width/2-410,screen.height/2-225);}function openExternalLink(a){window.open(a,"ExternalLink","resizable=1,menubar=0,toolbar=0,scrollbars=1,width=700px,height=800px");}function openMessageLogList(c){var d=100;var g=getClientWidth();var a=getClientHeight();var f="filter(operationUID)="+c;var b="/audit/log/messages";var e=window.open(document.webRoot+b+".do?"+f,"MessageLogList","resizable=1,menubar=0,toolbar=0,scrollbars=1");e.resizeTo((g-d),(a-d));e.moveTo(d/2,d/2);}function openMessageLogListForERKC(c){var d=100;var g=getClientWidth();var a=getClientHeight();var f="filter(operationUID)="+c;var b="/erkc/log/messages";var e=window.open(document.webRoot+b+".do?"+f,"MessageLogList","resizable=1,menubar=0,toolbar=0,scrollbars=1");e.resizeTo((g-d),(a-d));e.moveTo(d/2,d/2);}function makePaymentByTemplate(a){window.location=document.webRoot+"/private/payments/payment.do?template="+a;}var countMMIns=0;function setDivId(b,a){b.id=a+countMMIns;return document.getElementById(b.id);}function setClientStyle(){if(document.getElementById("mmTbl")){document.getElementById("mmTbl").className="clientChange";}}function widthMMInsLine(c,a,b){var d=0;for(i=a;i<=b;i++){d=d+document.getElementById(c+i).offsetWidth;}return d;}function setNullDivMMIns(){if(document.getElementById("mmTbl")){document.getElementById("mmTbl").className="adminChange";}try{for(i=1;i<=countMMIns;i++){if(document.getElementById("mmInsBSep"+i).innerHTML){document.getElementById("mmInsBSep"+i).innerHTML="";}if(document.getElementById("mmInsESep"+i).innerHTML){document.getElementById("mmInsESep"+i).innerHTML="";}}}catch(a){}}function break2Line(){var h=Math.ceil(countMMIns*0.45);var n=document.getElementById("mmIns"+h);var l=document.getElementById("mmInsESep"+h);var m=document.getElementById("mmInsBSep1");var b=document.getElementById("mmInsBSep"+(h+1));var f=document.getElementById("mmInsESep"+countMMIns);var c=n.offsetHeight;try{var k=widthMMInsLine("mmIns",h+1,countMMIns);var a=n.offsetParent.offsetWidth;if(k>a){if(!break3Line(0.3,0)){return false;}}else{var j=Math.ceil((a-(n.offsetLeft+n.offsetWidth))/2);var g=Math.ceil((a-k)/2);setSepAtrb(m,l,j,c);setSepAtrb(b,f,(g-2),c);}}catch(d){}return true;}function break3Line(s,g){var o=Math.ceil(countMMIns*s);var j=(countMMIns-(o*2)+o)-g;g++;var c=document.getElementById("mmIns"+o);var f=document.getElementById("mmInsESep"+o);var v=document.getElementById("mmIns"+j);var l=document.getElementById("mmInsBSep"+(o+1));var t=document.getElementById("mmInsESep"+j);var d=document.getElementById("mmInsBSep"+(j+1));var b=document.getElementById("mmInsESep"+countMMIns);var n=document.getElementById("mmInsBSep1");try{var h=c.offsetParent.offsetWidth;var r=c.offsetHeight;var q=widthMMInsLine("mmIns",1,o);var k=widthMMInsLine("mmIns",(o+1),j);var m=widthMMInsLine("mmIns",(j+1),countMMIns);var w=Math.ceil((h-q)/2);var a=Math.ceil((h-k)/2);var p=Math.ceil((h-m)/2);if((k>h)||(k<0)){switch(g){case 1:break3Line(0.3,1);break;default:breakSmthngLine(1);break;}return false;}if(m>h){if(!breakSmthngLine(1)){return false;}}else{setSepAtrb(n,f,w,r);setSepAtrb(l,t,a,r);setSepAtrb(d,b,p,r);}}catch(u){}return false;}function breakSmthngLine(b){try{var l=b;var g=b;var a=document.getElementById("mmIns"+l).offsetTop;for(i=l;i<=countMMIns;i++){if(document.getElementById("mmIns"+i).offsetTop<=a){g++;}else{break;}}g--;var m=document.getElementById("mmInsBSep"+l);var c=document.getElementById("mmIns1").offsetParent.offsetWidth;var f=document.getElementById("mmInsESep"+g);
var j=document.getElementById("mmIns1").offsetHeight;var d=widthMMInsLine("mmIns",l,g);var h=Math.ceil((c-d)/2);setSepAtrb(m,f,h,j);g++;if(g>countMMIns){return true;}else{breakSmthngLine(g);}}catch(k){}return false;}function validCountMMIns(){setNullDivMMIns();var c=document.getElementById("mmIns1");var a=document.getElementById("mmIns"+countMMIns);var d=1;if(a&&c){if(a.offsetTop>c.offsetTop){var b=document.getElementById("mmIns"+Math.ceil(countMMIns/2));d=2;if(b){if(b.offsetTop>c.offsetTop&&b.offsetTop<a.offsetTop){d=3;}}}}switch(d){case 1:setClientStyle();break;case 2:break2Line();break;case 3:break3Line(0.3,0);break;default:return;}}var activeName="";function showHide(a,f){if(f!=""){if(document.getElementById("locationSM")){if(document.getElementById("auto-generated-sub-menu")){if(document.getElementById("auto-generated-sub-menu").innerHTML==""){document.location=document.getElementById("locationSM").value;return false;}}else{if(document.getElementById("subML2_"+a)){if(document.getElementById("subML2_"+a).className=="displayNone"){document.location=document.getElementById("locationSM").value;}}}}}if(a!=""&&f==""){activeName=a;}var b="subML2_"+activeName;var c="subMTitleL2_"+activeName;var d="subML2_"+a;var e="subMTitleL2_"+a;if(document.getElementById(b)){b=document.getElementById(b);}if(document.getElementById(c)){c=document.getElementById(c);}if(document.getElementById(d)){d=document.getElementById(d);}if(document.getElementById(e)){e=document.getElementById(e);}if(activeName!=a){d="subML2_"+f;if(document.getElementById(d)){d=document.getElementById(d);}e="subMTitleL2_"+f;if(document.getElementById(e)){e=document.getElementById(e);}b.className="displayBlock";c.className="subMAciveTitleBg";d.className="displayBlock";e.className="subMAciveTitleBg";}else{if((activeName==a)&&(d.className=="displayBlock")){d.className="displayNone";e.className="subMInaciveTitleBg";}else{if((activeName==a)&&(d.className=="displayNone")){d.className="displayBlock";e.className="subMAciveTitleBg";}}}activeName=a;}var oldSubMenuName="";function initLeftMenu(a){var b=document.getElementById("subMenuName");if(b!=null&&b.value.length>0&&oldSubMenuName!=b){oldSubMenuName=b;showHide(a,b.value);}}function setWorkspaceWidth(){if(document.getElementById("workspaceRegion")&&document.getElementById("lmArea")){document.getElementById("workspaceRegion").style.width=(getClientWidth()-document.getElementById("lmArea").offsetWidth-100);}}function openHelp(c){var d=150*4;var b=760;var a="fullscreen=0,location=0,menubar=0,status=0,toolbar=0,resizable=1, scrollbars=1"+", width="+b+", height="+d+", left="+(screen.width-b)/2+", top="+(screen.height-d)/2;openWindow(null,c,"help",a);}function openFAQ(d){var c=150*4;var b=760;var a="fullscreen=0,location=0,menubar=0,status=0,toolbar=0,resizable=1, scrollbars=1"+", width="+b+", height="+c+", left="+(screen.width-b)/2+", top="+(screen.height-c)/2;openWindow(null,d,"faq",a);}function openTarif(c){var d=150*4;var b=760;var a="fullscreen=0,location=0,menubar=0,status=0,toolbar=0,resizable=1, scrollbars=1"+", width="+b+", height="+d+", left="+(screen.width-b)/2+", top="+(screen.height-d)/2;openWindow(null,c,"tarif",a);}var addUrlList="${phiz:calculateActionURL(pageContext,'/departments/list')}";function showChild(b){var a=document.getElementById(b);if(a!=null){if(a.style.display=="none"){a.style.display="";}else{a.style.display="none";}}else{window.location=addUrlList+"?id="+b;}}var ajaxJsHelper=(function(win){var isLoadingInProgress=false;var loadedJsFileCount=0;var delayedTasks=[];var loadedScripts=[];function setLoadedScripts(scriptUrls){loadedScripts=scriptUrls||[];}function loadScript(url){var absUrl=url;if(!/^https?:\/\//i.test(url)){var lc=win.location;absUrl=lc.protocol+"//"+lc.hostname+(lc.port&&":"+lc.port)+url;}if(loadedScripts.indexOf(absUrl)>-1){return;}var rootDomain=extractRootDomain(url);(location.hostname===rootDomain||!rootDomain.length)?loadInternalScript(url):loadExternalScript(url);}function extractHostname(url){var hostname;if(url.indexOf("://")>-1){hostname=url.split("/")[2];}else{hostname=url.split("/")[0];}hostname=hostname.split(":")[0];hostname=hostname.split("?")[0];return hostname;}function extractRootDomain(url){var domain=extractHostname(url),splitArr=domain.split("."),arrLen=splitArr.length;if(arrLen>2){domain=splitArr[arrLen-2]+"."+splitArr[arrLen-1];}return domain;}var xhrFactories=[function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml3.XMLHTTP");},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0");},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0");},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");}];function getScriptAjax(config){var url=config.url;var success=function(){if(isFunction(config.success)){config.success();}if(isFunction(config.complete)){config.complete();}};var error=function(){if(isFunction(config.error)){config.error();}if(isFunction(config.complete)){config.complete();
}};var xhr=false;for(var i=0;i<xhrFactories.length;i++){try{xhr=xhrFactories[i]();}catch(e){continue;}break;}if(!xhr){return error();}xhr.open("GET",url,true);xhr.onreadystatechange=function(){if(xhr.readyState!=4){return;}if(xhr.status==200||xhr.status==304){globalEval(xhr.responseText,url);return success();}else{return error();}};if(xhr.readyState==4){return;}xhr.send(null);}function loadExternalScript(url){getScriptAjax({url:url,error:function(){console.error("Не удалось загрузить '"+url+"'");}});}function loadInternalScript(url){isLoadingInProgress=true;loadedJsFileCount++;getScriptAjax({url:url,error:function(){console.error("Не удалось загрузить '"+url+"'");},complete:function(){if(--loadedJsFileCount<=0){isLoadingInProgress=false;while(delayedTasks.length){var task=delayedTasks.shift();if(isString(task)){globalEval(task);}else{if(isFunction(task)){task();}}}}}});}function evalScript(scriptCode){if(isLoadingInProgress){delayedTasks.push(scriptCode);}else{globalEval(scriptCode);}}function globalEval(scriptCode,url){try{return win.execScript?win.execScript(scriptCode):win.eval(scriptCode);}catch(e){console.error("Ошибка выполнения "+(isString(url)?"скрипта из внешнего файла ("+url+")":"встроенного скрипта")+", полученного через AJAX: "+e.message);}}function exec(func){if(isFunction(func)){if(isLoadingInProgress){delayedTasks.push(func);}else{func();}}}function isFunction(obj){return Object.prototype.toString.call(obj)==="[object Function]";}function isString(obj){return Object.prototype.toString.call(obj)==="[object String]";}return{setLoadedScripts:setLoadedScripts,loadScript:loadScript,evalScript:evalScript,exec:exec};}(window));function evalAjaxJS(e){if(e.toLowerCase().indexOf("<script")==-1){return;}window.onload=null;if(window.evalAjaxJSCounter==undefined){window.evalAjaxJSCounter=0;}window.evalAjaxJSCounter++;var f="tmpEvalAjaxJS"+window.evalAjaxJSCounter;var a=document.createElement("div");a.id=f;a.style.display="none";document.getElementsByTagName("body")[0].appendChild(a);a=document.getElementById(f);a.innerHTML=e;var b=a.getElementsByTagName("script");for(var c=0;c<b.length;c++){if(b[c].innerHTML==""){var d=b[c].getAttribute("src");if(d){ajaxJsHelper.loadScript(d);}continue;}ajaxJsHelper.evalScript(b[c].innerHTML);}ajaxJsHelper.exec(function(){if(window.onload!=null){window.onload();}a.parentNode.removeChild(a);});}function convertAjaxParam(b){var a="";var d=0;for(var c in b){if(d>0){a=a+"&";}a=a+c+"="+encodeURIComponent(b[c]);d++;}return a;}function showOrHideAjaxPreloader(a){if(a==null){a=true;}var b=isClientApp?ensureElement("loading"):ensureElement("centerLoadDiv");if(b==null){return;}if(a){if(preLoadersCount==0){document.body.style.cursor="progress";b.preloaderTimer=setTimeout(function(){isClientApp?showOrHideWaitDiv(true):loadNewAction();},1000);}++preLoadersCount;}else{--preLoadersCount;if(preLoadersCount==0&&b.preloaderTimer!=undefined){clearTimeout(b.preloaderTimer);b.preloaderTimer=undefined;document.body.style.cursor="auto";isClientApp?showOrHideWaitDiv(false):clearLoadMessage();}}}function processErrorInResponce(c,f){var b=trim(c.replace(/&nbsp;/g," "));try{var a=$(b).find("#ajaxResponceError")[0];}catch(d){}if(a==undefined){return false;}if(f!=undefined){return f(c);}window.location=a.innerHTML;return true;}function ajaxQuery(f,a,o,n,m,c,d){var l=f==null?"GET":"POST";m=m==null?true:m;if(m){showOrHideAjaxPreloader();}var h=n!=null&&n.toLowerCase()=="json";if(h&&f!=null){if(f.length>0){f+="&";}f+="responseType=json";}var g=d!=null&&d;var b=function(t){if(m){showOrHideAjaxPreloader(false);}if(!h&&!g&&processErrorInResponce(t,c)){return false;}var u=[];var q=document.getElementsByTagName("script");for(var s=0;s<q.length;s++){var r=q[s].src;if(r&&u.indexOf(r)<0){u.push(r);}}ajaxJsHelper.setLoadedScripts(u);if(o){o(t);}if(!h){evalAjaxJS(t);}};var p=b;var k=function(q,r){if(q.status==401){window.location.reload();return;}};if(h){p=function(q){var s;try{s=$.parseJSON(q);}catch(r){s=null;}b(s);};}if(a==null){return false;}if("POST"==l){f+="&PAGE_TOKEN="+$("input[name = PAGE_TOKEN]").val();}try{new XMLHttpRequest();$.ajax({type:l,url:a,data:f,contentType:"application/x-www-form-urlencoded; charset=utf8",success:p,error:k});return true;}catch(e){var j=new IFrameRequest();j.open(l,a,true);j.onreadystatechange=function(){if(this.readyState==4){checkAjaxError(this.responseText);p(this.responseText);}};j.send(f);return true;}}function checkAjaxError(a){if(a=="<H1>401 Unauthorized</H1>"){window.location.reload();return;}}function screenSize(){var a,b;a=(window.innerWidth?window.innerWidth:(document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth));b=(window.innerHeight?window.innerHeight:(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight));return{w:a,h:b};}function getScrollTop(){var a=0;if(document.documentElement.scrollTop){a=document.documentElement.scrollTop;}if(document.body.scrollTop){a=document.body.scrollTop;
}return a;}function parseDate(a){var b=a.split(".");return new Date(b[2],b[1]-1,b[0]);}function isIE(a){var b=false;if(navigator.appName=="Microsoft Internet Explorer"){b=true;if(a!=null&&navigator.appVersion.indexOf("MSIE "+a)<0){return false;}}return b;}function IE(){return"\v"=="v";}function isBrowser(b){var a=RegExp(b).test(navigator.userAgent.toLowerCase());if(a&&b=="safari"){return !isBrowser("chrome");}return a;}function doOnLoad(a,b){if(b){$(document).ready(function(){a(b);});}else{$(document).ready(a);}}function addClearMasks(c,a){if(a==null){return;}var b=window.clearMasks;window.clearMasks=function(d){if(b!=null){b(d);}a(d);};}function isMessageExist(a,e){if(messages[e]=="found"){return true;}var b=$("#"+a+" div[class=itemDiv]");for(var c=0;c<b.length;c++){var d=document.createElement("span");d.innerHTML=e;if(trim($(b[c]).text())==trim($(d).text())){return true;}}return false;}function addMessage(d,b,c){if(c){delete messages[d];}if(b==null){b="warnings";}if(d.lastIndexOf(":")==d.length-1){d=d.substr(0,d.length-1);}if(!isMessageExist(b,d)){hideOrShow(ensureElement(b),false);var a=findChildByClassName(ensureElement(b),"messageContainer");messages[d]="found";$(a).append("<div class='itemDiv'>"+d+"</div>");}}function addError(d,a,b){if(b){delete messages[d];}if(a==null){a="errors";}if(!!d&&d.lastIndexOf(":")==d.length-1){d=d.substr(0,d.length-1);}if(!isMessageExist(a,d)){hideOrShow(ensureElement(a),false);var c=findChildByClassName(ensureElement(a),"messageContainer");messages[d]="found";$(c).append("<div class='itemDiv'>"+d+"</div>");}}function addInactiveESMessage(a){addError(a,"inactiveMessages",true);}function removeInacvtiveESMessage(a){removeMessage(a,"inactiveMessages");}function removeMessage(b,a){if(a==null){a="warnings";}removeInformation(b,a);}function removeAllMessages(a){if(a==null){a="warnings";}removeInformation(null,a);}function removeError(b,a){if(a==null){a="errors";}removeInformation(b,a);}function removeAllErrors(a){if(a==null){a="errors";}removeInformation(null,a);}function removeInformation(c,j){var a=findChildByClassName(ensureElement(j),"messageContainer");if(a==null){return;}var e=c==null;var f=0;var d=new Array();for(var h in a.childNodes){var b=a.childNodes[h];if(b!=null&&b.nodeType==3){f++;}if(b!=null&&e){c=b.innerHTML;if(b!=null&&c!=null){d[d.length]=b;delete messages[c];}}else{if(b!=null&&b.innerHTML==c){d[d.length]=b;delete messages[c];}}}for(var g=0;g<d.length;g++){$(d[g]).remove();}if(a.childNodes.length<1+f){hideOrShow(ensureElement(j),true);}}function getDateFilterParams(a){var b=getRadioValue(document.getElementsByName("filter(type"+a+")"));var d=getElementValue("filter(from"+a+")");var c=getElementValue("filter(to"+a+")");return{type:b,from:d,to:c};}function filterDateChange(a){var c=getRadioValue(document.getElementsByName("filter(type"+a+")"));var e=getElement("filter(from"+a+")");var d=getElement("filter(to"+a+")");if(e==null||d==null){return;}var b=true;if(c==null||c=="period"){b=false;}d.disabled=b;e.disabled=b;}function oneClickFilterDateChange(b,g,a,h,l){var c="date-filter-no-active";var m="date-filter-active";if(h!=undefined){m=h;}if(l!=undefined){c=l;}var d=getElement("filter(type"+b+")");if(a==null){a=false;}if(d.value==g){return;}var e=document.getElementById("type"+b+d.value);if(e!=undefined){e.className=c;}document.getElementById("type"+b+g).className=m;var f=findChildByClassName(d.parentNode,"filterButton");var j=findChildByClassName(d.parentNode,"showHideMoreFilterLink");var k=j==undefined||j!=undefined&&j.innerHTML!=j.rel;if(j!=undefined){if(j.originData!=undefined){j.originData.filterButtonDisplay=false;}}if(g=="period"){document.getElementById("type"+b+g+"Detail").style.display="";if(j!=undefined){if(j.originData!=undefined){j.originData.filterButtonDisplay=true;}if(k&&f!=undefined){hideOrShow(f,true);}}else{if(f!=undefined){hideOrShow(f,false);}}}else{if(f!=undefined&&!a){hideOrShow(f,true);}}if(d.value=="period"){document.getElementById("type"+b+d.value+"Detail").style.display="none";}d.value=g;if(g!="period"&&k&&!a){callOperation(null,"button.filter");}}function oneClickFilterMonthDateChange(a,f){var b="date-filter-no-active";var j="date-filter-active";var c=getElement("filter(type"+a+")");if(c.value==f){return;}var d=document.getElementById("type"+a+c.value);if(d!=undefined){d.className=b;}document.getElementById("type"+a+f).className=j;var e=findChildByClassName(c.parentNode,"filterButton");var g=findChildByClassName(c.parentNode,"showHideMoreFilterLink");var h=g==undefined||g!=undefined&&g.innerHTML!=g.rel;if(g!=undefined){if(g.originData!=undefined){g.originData.filterButtonDisplay=false;}}document.getElementById("type"+a+f+"Detail").style.display="";if(g!=undefined){if(g.originData!=undefined){g.originData.filterButtonDisplay=true;}if(h&&e!=undefined){hideOrShow(e,true);}}else{if(e!=undefined){hideOrShow(e,false);}}document.getElementById("type"+a+c.value+"Detail").style.display="none";c.value=f;}function textTriggerChange(a,g){var f="greenSelector";
var d="greenSelector transparent";var b=getElement(a).value;var e=document.getElementById(a+"_"+b);var h=document.getElementById(a+"_"+g);var c=document.getElementsByName(a)[0];c.value=g;e.className=d;h.className=f;}function enterNumTemplateField(a,c,d){var b=/[dmy]/gi;enterNumericTemplateFld(a,c,d.replace(b,"_"));}function onImgError(a){a.onerror="";a.width=0;a.style.display="none";return true;}function findChildByClassName(c,b){if(c==undefined){return undefined;}var a=findChildsByClassName(c,b,1);if(a.length==0){return undefined;}else{return a[0];}}function findChildsByClassName(d,c,e,a){var f;if(a==null){a=new Array();}if(d==undefined){return a;}for(var b in d.childNodes){f=d.childNodes[b];if(f!=null&&(isNaN(f.nodeType)||f.nodeType==1)){if(f.nodeType==1&&f.getAttribute("class")!=undefined&&f.getAttribute("class").search("\\b"+c+"\\b")!=-1){a.push(f);if(a.length==e){return a;}}a=findChildsByClassName(f,c,e,a);if(a.length==e){return a;}}}return a;}function findParentByClassName(b,a){while(b!=undefined&&b.className!=undefined&&!findClass(b,a)){b=b.parentNode;}return b;}function findClassName(b,a){return b!=undefined&&b.className!=undefined&&findClass(b,a);}function findClass(b,a){return b.className.search("\\b"+a+"\\b")>=0;}function showHideOperations(g,m,h,a,k){if(g.onShow==undefined){var b="hide";var j="";var d=trim(g.className).split(" ");for(var f=0;f<d.length;f++){if(d[f]!=b){j+=d[f]+" ";}}g.onHide=function(){this.className=j;};g.onShow=function(){this.className=j+" "+b;};}var e="id="+m+"&productType="+h+"&operation=button.showHide";ajaxQuery(e,a,function(n){if(k!=null){k();}},null,false);showHideRelativeElement(g,"simpleTable",g.rel);var c=getParam(g);if(c.state!=undefined){var l=$(findParentByClassName(g,"workspace-box")).find(".blueGrayLinkDotted");if(c.state==true){l.text("Скрыть все последние операции");}else{l.text("Показать все последние операции");}}}function changeTitle(a){var b=getParam(a);if(b.state!=undefined){b.state=!b.state;}b.state?a.title="Показать последние операции":a.title="Скрыть последние операции";}function getParam(e){var b=findParentByClassName(e,"workspace-box");var c=findChildsByClassName(b,"hideable-element");var d=undefined;for(var a=0;a<c.length;a++){getIsOpenState(c[a]);if(d==undefined){d=c[a].isOpen;continue;}if(d!=c[a].isOpen){d=undefined;break;}}return{state:d,childs:c};}function hideAllOperations(b){if(b.allOpen==undefined){b.allOpen=true;}b.allOpen=!b.allOpen;var c=getParam(b);if(c.state!=undefined){b.allOpen=!c.state;}for(var a=0;a<c.childs.length;a++){getIsOpenState(c.childs[a]);if(c.childs[a].isOpen==b.allOpen){continue;}c.childs[a].isOpen=!b.allOpen;c.childs[a].onclick(window.MouseEvent);}b.allOpen=undefined;b.title="";}function getIsOpenState(b){if(b.isOpen==undefined){var a=findChildByClassName(b.parentNode,"simpleTable");b.isOpen=!(a.style.display=="none");}return b.isOpen;}function showHideRelativeElement(e,a,b,f){var d=findChildByClassName(e.parentNode,a);var c=findChildByClassName(e.parentNode,"linksListHiddenCount");if(e.isOpen==undefined){e.isOpen=!(d.style.display=="none");}if(e.showText==undefined){e.showText=e.isOpen?(e.textContent||e.innerText):b;}if(e.hideText==undefined){e.hideText=!e.isOpen?(e.textContent||e.innerText):b;}if(e.isOpen){e.isOpen=false;e.innerHTML=e.hideText;e.stepShow=0;if(e.onHide!=undefined){e.onHide(d);}d.style.display="";hideWithFadeIn(e,d);setHideStyleLinkListTitle(e,"linksListTitle");return;}e.isOpen=true;if(c==undefined){e.stepShow=1;e.innerHTML="Скрыть операции";}else{e.innerHTML=e.showText;}d.style.display="";showWithFadeOut(e,d);if(e.onShow!=undefined){e.onShow(d);}}function up(a){$("html,body").animate({scrollTop:a},500);}function showWithFadeOut(c,b){var a=$(b).height();b.style.position="relative";b.style.overflow="hidden";if(b.fadeTimer!=undefined){clearTimeout(b.fadeTimer);}fadeOut(b,0,a,function(){b.style.height="auto";b.style.position="";if((c.stepShow==1)&&c.id!=""){c.style.display="";}});}function hideWithFadeIn(d,b,f){var a=$(b).height();b.style.position="relative";b.style.overflow="hidden";if(b.fadeTimer!=undefined){clearTimeout(b.fadeTimer);}fadeIn(b,a,0,function(){b.style.height="auto";b.style.overflow="auto";b.style.display="none";if(f){f();}});var e=offsetPosition(b)-24;var c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(c>e){$(b).parents("#favouriteLinks").size()>0?up(0):up(e);}}function offsetPosition(a){var b=0;do{b+=a.offsetTop;}while(a=a.offsetParent);return b;}function setHideStyleLinkListTitle(b,a){var c=$(b).parent("."+a+".hide")[0];if(c!=undefined){c.stepShow=undefined;c.className=a;}}function showHideRegular(c){var b="развернуть";var a=$(c).closest(".grid").find("table");if(c.wasOpened==undefined){c.wasOpened=true;c.origInner=c.innerHTML;c.innerHTML=b;c.style.backgroundPosition="100% 110%";a.hide();return;}c.wasOpened=undefined;c.innerHTML=c.origInner;c.style.backgroundPosition="100% -10%";a.show();}function getZindex(e){var d=0;var a=0;var f=Array();f.push(e);var c=e.parentNode;
while(c!=document){f.push(c);c=c.parentNode;}for(var b=0;b<f.length;b++){if(f[b].currentStyle){a=parseFloat(f[b].currentStyle["zIndex"]);}else{if(window.getComputedStyle){a=parseFloat(document.defaultView.getComputedStyle(f[b],null).getPropertyValue("z-index"));}}if(!isNaN(a)&&a>d){d=a;}}return(d);}function addSwitchableEvent(d,b,c,a){if(a==null){addEventListenerEx(d,b,function(f){c(f);},false);return;}if(eventsKeyHash[a]!=undefined){eventsKeyHash[a]=true;return;}eventsKeyHash[a]=true;addEventListenerEx(d,b,function(f){if(window.eventsKeyHash[a]){c(f);}},false);}var eventsKeyHash={};function switchEvent(a,b){if(eventsKeyHash[a]==undefined){return false;}eventsKeyHash[a]=!((b!=null)?b:eventsKeyHash[a]);return true;}function addElementToForm(a,d){var c=document.forms[0];var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",a);b.setAttribute("value",d);c.appendChild(b);return;}function saveOffset(){setCookie("isFormSubmit","true");setCookie("offset",getScrollTop());var c=document.location;var b=c.href.indexOf("?");var a=(b==-1?c:c.href.slice(0,b));setCookie("currentUrl",a);}function disableOrEnableElem(b,a){getElement(b).disabled=a;}function disableOrEnableField(b,a){getField(b).disabled=a;}function setFieldReadOnlyState(b,a){getField(b).readOnly=a;}function changeShowInMain(d,b,a){var c="id="+d+"&productType="+b+"&operation=button.showInMain";ajaxQuery(c,a,function(e){});}function removeElementByValue(d,a,c){for(var b=0;b<d.length;b++){if(d[b]==a){d.splice(b,1);if(c){return;}}}}function setPositionLikeObj(e,d,c){e=ensureElement(e);var a=absPosition(e);d=ensureElement(d);var f=absPosition(d);if(c!=null){c=ensureElement(c);var b=absPosition(c);e.style.left=a.left-(b.left-f.left)+"px";e.style.top=a.top-(b.top-f.top)+"px";}else{e.style.left=f.left+"px";e.style.top=f.top+"px";}}function setPositionAfterObj(b,c){var a=absPosition($(c).get(0));$(b).css("left",a.left);$(b).css("top",a.top+$(c).outerHeight());}function getEventTarget(b){var a;if(!b){var b=window.event;}if(b.target){a=b.target;}else{if(b.srcElement){a=b.srcElement;}}if(a.nodeType==3){a=a.parentNode;}return a;}function mapGETParameters(){var a=document.location.toString();a.match(/\?(.+)$/);var e=RegExp.$1.split("&");var c={};for(var b=0;b<e.length;b++){var d=e[b].split("=");c[d[0].toString()]=decodeURI(d[1]);}return c;}function getQueryStringParameter(a){if(a==null||a==""){return"";}var b=mapGETParameters()[a];return b==null?"":b;}function fadeOut(f,e,d,c){var b=(d-e)/8;if(b<5&&b>0){b=5;}if(b<0&&b>-5){b=-5;}var a=e+b;if(a>d){a=d;}f.style.height=a+"px";if(a<d){f.fadeTimer=setTimeout(function(){fadeOut(f,a,d,c);},20);}else{if(c!=undefined){c();}}}function fadeIn(f,e,d,c){var b=(e-d)/8;if(b<5&&b>0){b=5;}if(b<0&&b>-5){b=-5;}var a=e-b;if(a<d){a=d;}f.style.height=a+"px";if(a>d){f.fadeTimer=setTimeout(function(){fadeIn(f,a,d,c);},20);}else{if(c!=undefined){c();}}}function openMoreFilter(c,e){var a=findChildByClassName(c.parentNode.parentNode,"filterMore");var b=findChildByClassName(c.parentNode.parentNode,"filterButton");var d=c.innerHTML!=c.rel;if(c.originData==undefined){c.originData={innerHTML:c.innerHTML,className:c.className};}if(d){c.originData.filterButtonDisplay=b.style.display=="";}hideOrShow(b,true);hideOrShow(a,!d);if(d){c.innerHTML=c.rel;c.rel=c.innerHTML;c.className+=" opened";setElement(e,"true");return;}setElement(e,"false");if(c.originData!=undefined){c.innerHTML=c.originData.innerHTML;c.className=c.originData.className;}}function wordBreak(f,b){var e=f.split(" ");var a="";for(var d=0;d<e.length;d++){a+=" ";if(e[d].length>b){for(var c=0;c<e[d].length/b;c++){if(c>0){a+=" ";}a+=e[d].substr(b*c,b);}}else{a+=e[d];}}return a;}function RoundingMode(){this.UP=0;this.HALF_UP=1;this.DOWN=2;}function rounding(b,a){if(a==RoundingMode.UP){return Math.ceil(b);}if(a==RoundingMode.HALF_UP){return Math.round(b);}if(a==RoundingMode.DOWN){return Math.floor(b);}}function FloatToString(l,p,c,u,a,s){var e=(typeof(p)!="undefined")?p:2;var h=(typeof(c)!="undefined")?c:"";var o=(typeof(u)!="undefined")?u:21;var g=(typeof(a)!="undefined")?a:RoundingMode.HALF_UP;var f=(typeof(s)!="undefined")?s:".";var n=parseFloat(l);if(isNaN(n)){return n;}var v=Math.pow(10,e);n=rounding(n*v,g)/v;var d=Number(n);var j=d.toFixed(e).toString().split(".");var x=j[0].replace(/(\d{1,3}(?=(\d{3})+(?:\.\d|\b)))/g,"$1"+h);var q=x;if(j.length>1){q+="."+j[1];}if(matchRegexp(q,/\d+ ?\.\d+\e(\+|\-)\d+/)){var m=q.split(".")[1];var k=m.replace(/\d+\e\+?/,"");var w=m.substr(0,1);if(w.length>0){return x+f+w+"&times;10<sup>&nbsp;"+k+"</sup>";}else{return x+"&times;10<sup>&nbsp;"+k+"</sup>";}}if(d<Math.pow(10,o)){if(e>0){return x+f+j[1];}else{return x;}}var t=j[0];return t.substr(0,1)+f+t.substr(1,1)+"&times;10<sup>&nbsp;"+(t.length-1)+"</sup>";}function printLoan(b,c){var a="/PhizIC/private/payments/print.do";openWindow(c,a+"?id="+b,"","resizable=1,menubar=1,toolbar=0,scrollbars=1,width=800,height=700");}function changeElemntValue(a,c,b){a.value=a.value==c?b:c;}function hideOrShowByClass(b,a){$("."+b).toggle();
$("."+a).toggle();}function copyValueFromElementToElementById(a,b){document.getElementById(b).value=a.value;}function autoClickLanguageButton(d,c,a){var b=document.getElementById(c);if(b!=null&&b.value==a){document.getElementById(d).click();}}function loadAjaxDataOnce(a,c){var b=document.getElementById(c);if(b==undefined){throw"Объект с id="+c+" не найден.";}if(b.loadedData==a){return;}ajaxQuery(null,a,function(d){b.innerHTML=d;},null,false);b.loadedData=a;}function canChange(a){switch(a){case KEY_BACKSPACE:case KEY_DELETE:case 33:case 34:case 45:case 35:case 36:case 37:case 38:case 39:case 40:return true;default:return false;}}function restrictInputKeys(b,a,c){$(b).keypress(function(f){if(((f.which!=0&&f.charCode!=0)&&!(window.opera&&f.charCode==null)&&!f.ctrlKey)||isIE()){return !a||a(f);}var d=f.which||f.keyCode;if(canChange(d)){return true;}switch(d){case 13:case 9:return true;case 1:case 65:case 26:case 90:case 24:case 88:case 3:case 67:case 22:case 86:if(window.opera&&f.ctrlKey){return true;}break;case 120:case 122:case 99:case 118:case 97:if(f.ctrlKey){return true;}break;case 17:return true;}return !a||a(f);}).keyup(function(f){if(c==null){return true;}var d=getCaretPosition(this);c(f);setCaretPosition(this,d[0],d[1]);}).bind("paste",function(d){setTimeout(function(){c(d);},50);});}function getLineSize(a){if(a==null){return 0;}return a.replace(/\r?\n/g,"12").length;}function getSubString(g,d){if(g==null){return g;}var f="";var c=0;var a=g.split(/\r?\n/);var b=a.length;do{var h=a[c];var e=d-(f.length+c++);if(h.length+2>e){return f+h.substr(0,e);}f=f+h+"\n";}while(c<b);return g;}function initAreaMaxLengthRestriction(f,b,c){var a=document.getElementById(f);$(a).attr("area-max-length",b);var d=function(){if(c){$("#statistics").html("Введено "+getLineSize(a.value)+" симв. из "+b);}};if(c){$(a).after("<div id='statistics'></div>");d();}a.onkeypress=function(g){if(g==null){if(a.value.length>b){a.value=a.value.substr(0,b);}d();return true;}if(a.value.length<b){d();return true;}if(canChange(g.keyCode)||((g.ctrlKey)&&((g.charCode==120)||(g.charCode==99)||(g.charCode==118)||(g.charCode==97)))){d();return true;}d();return false;};var e=function(){if(getLineSize(a.value)>b){a.value=getSubString(a.value,b);}d();return true;};a.onkeyup=e;a.onfocus=e;a.onmousemove=e;}function changeFormAction(b){var a=document.forms[0];a.action=b;a.onsubmit=null;}function ajaxQueryCallMethodParam(b,c){var a=serializeForm(c);if(a.length>0){a+="&";}a+="operation="+b;return a;}function serializeForm(c){if(isEmpty(c)){return $("form").serialize();}var a=$("#"+c);if(a.size()==0){return $("form").serialize();}var b=a.serialize();if(!b){return serializeDiv(c);}return b;}var confirmOperation={type:{card:"card",sms:"sms",cap:"cap",push:"push"},windowId:"oneTimePasswordWindow",submitIneted:false,followSubmit:true,lock:false,openConfirmWindow:function(c,a,d){if(this.lock){return;}this.lock=true;var b=this;this.initSubmit();ajaxQuery(ajaxQueryCallMethodParam(c),a,function(e){b.lock=false;if(trim(e)==""){window.location.reload();return;}ensureElement(b.windowId).innerHTML=e;win.open(b.windowId);b.initLoadedData();if(d!=undefined){d();}});},openFormConfirmWindow:function(c,a){if(this.lock){return;}this.lock=true;var b=this;this.initSubmit();ajaxQuery(ajaxQueryCallMethodParam(c),a,function(e){b.lock=false;if(trim(e)==""){window.location.reload();return;}var d=ensureElement(b.windowId);$(d).empty();$(d).append($(e));win.open(b.windowId);b.initLoadedData();});},validateConfirmPassword:function(e,b,d,f,g,a){var c=this;if(this.lock){return;}if(!this.validateField(d)){return;}showOrHideAjaxPreloader();this.lock=true;ajaxQuery(ajaxQueryCallMethodParam(e,g),b,function(h){if(trim(h)==""){if(a!=undefined&&a!=""){a();}else{window.location.reload();}}else{if(trim(h)=="next"){c.followSubmit=false;if(f!=undefined){f();}else{callOperation(null,"button.nextStage");}}else{showOrHideAjaxPreloader(false);if(b!="/PhizIC/async/confirm.do"){var j=$("#"+c.windowId);$(j).empty();ensureElement(c.windowId).innerHTML=h;win.open(c.windowId);c.initLoadedData();}c.lock=false;}}},null,false);},initLoadedData:function(){var c=ensureElement(this.windowId);payInput.setEvents(payInput,c);var e=findChildByClassName(c,"warningMessage");if(e!=undefined){var d=findChildByClassName(e,"messageContainer");if(d!=undefined){var b=trim(d.innerHTML)=="";hideOrShow(e,b);}}var a=$("#"+this.windowId+" input.confirmInput");a.ready(function(){if(isIE(6)){setTimeout(function(){a.focus();setTimeout(function(){a.focus();if(isMobileDevice()){return;}setTimeout(function(){window.scrollTo(0,0);},100);},100);},100);}else{a.focus();if(isMobileDevice()){return;}window.scrollTo(0,0);}});},validateField:function(c){var a={sms:"Введите пароль, полученный через sms.",card:"Введите одноразовый пароль с чека.",cap:"Введите отображенное на карте число.",push:"Введите пароль, полученный через push-сообщение."};var b=ensureElement(this.windowId);var e=findChildByClassName(b,"confirmInput");if(e==undefined){return false;
}if(trim(e.value)!=""){return true;}addError(a[c],"warningMessages",true);var d=findChildByClassName(b,"warningMessage");hideOrShow(d,false);var g=findParentByClassName(e,"form-row");var f=findChildByClassName(g,"fieldTitle");if(!!f){f.style.color="red";}e.focus();return false;},initSubmit:function(){if(this.submitIneted){return;}var c=document.forms[0];var b=this;var a=c.onsubmit;c.onsubmit=function(f){var d=win.window[b.windowId+"Win"];if(d!=undefined&&d.opened()&&b.followSubmit){return false;}return a==undefined?true:a(f);};this.submitIneted=true;}};function getCurrentDate(e){var b=new Date();var a=b.getDate();var d=b.getMonth()+1;var c=b.getFullYear();return(a<10?"0"+a:a)+e+(d<10?"0"+d:d)+e+(c);}function getDeltaTime(e,d){var b=function(f){return f.getMilliseconds()+(f.getSeconds()+(f.getMinutes()+f.getHours()*60)*60)*1000;};var a=b(e);var c=b(d);while(c<a){c+=1000*60*60*24;}return c-a;}var Animator=function(f,c,b,e,a){var d=this;d.LINEAR=function(g){return g;};d.SINUS=function(g){return(Math.sin(-Math.PI/2+Math.PI*g)+1)/2;};d.duration=f;d.onChangeFrame=c;d.onFinishAnimation=b;d.repeat=e;d.animateMethod=a=="SINUS"?d.SINUS:d.LINEAR;d.startTime;d.interval;d.start=function(){d.startTime=new Date();d.interval=setInterval(function(){var g=getDeltaTime(d.startTime,new Date());if(g>d.duration){g=d.duration;}var h=d.animateMethod((g+0)/d.duration);if(d.onChangeFrame){d.onChangeFrame(h);}if(g>=d.duration){if(e){d.startTime=new Date();}else{clearInterval(d.interval);if(d.onFinishAnimation){d.onFinishAnimation();}}}},20);};d.stop=function(){clearInterval(d.interval);};};function checkIfOneItem(a,c){var b;if(a==null){a="selectedIds";}if(isEmpty(a)||(b=document.getElementsByName(a))==undefined){return;}if(b.length==1){b[0].checked=true;}if(c!=null){c();}}function escapeHTML(a){if(a==null){return;}return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");}function openInf(b,a){win.open("infWindow");}function isMobileDevice(){var a=["Mobile","iPhone","iPad","iPod","Mac"];for(var b=0;b<a.length;b++){if(navigator.userAgent.indexOf(a[b])!=-1){return true;}}return false;}var currencySignMap={map:{},get:function(a){return this.map[a]==undefined?a:this.map[a];}};function hideOrShowRegions(b){var a=document.getElementById("otherRegions"+b);if(a!=undefined){hideOrShow("otherRegions"+b);}}function redirectResolved(){return true;}function execIfRedirectResolved(a){if(redirectResolved()){a();}}function bannerRequest(c,b){if(c!=undefined){if(typeof sendedBannerRequest!="undefined"){if(sendedBannerRequest[c]){return;}sendedBannerRequest[c]=true;}var a=document.webRoot+"/private/async/advertising.do";var d="operation=button."+b+"&currentBannerId="+c;ajaxQuery(d,a,function(e){},null,false);}}function panelRequest(c,b){if(c!=undefined){var a=document.webRoot+"/private/async/quick/payment/panel.do";var d="quickPaymentPanelBlokId="+c;ajaxQuery(d,a,function(e){window.location=b;},null,false);}}function cancelBubbling(a){a=a||window.event;a.stopPropagation?a.stopPropagation():(a.cancelBubble=true);}function checkProvidersRegion(a,b){ajaxQuery({providerIds:a},document.webRoot+"/private/async/provider/checkProviderRegion.do",b,"json",false);}function getStringWithoutSpace(a){return a.replace(/ /g,"");}function getCaretPosition(a){try{if(document.selection){var b=document.selection.createRange();return[-b.moveStart("character",-a.value.length),-b.moveEnd("character",-a.value.length)];}if(a.selectionStart||a.selectionStart=="0"){return[a.selectionStart,a.selectionEnd];}}catch(c){}return[0,0];}function setCaretPosition(b,e,d){try{if(b.setSelectionRange){b.setSelectionRange(e,d!=null?d:e);}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",d!=null?d:e);a.moveStart("character",e);a.select();}}}catch(c){}}function setBatteryVals(f,e,d){if(e==0&&d==0){$("#activeBattery"+f).hide();$("#notActiveBattery"+f).show();}else{var a=$("#battery"+f+" .batteryCenter");var c=$("#battery"+f+" .innerBattery");var b=d/(e+d);c.css("width",parseFloat(a.css("width"))*b);$("#batteryHintUp"+f+" .hintVal").html(FloatToString(d,2," "));$("#batteryHintDown"+f+" .hintVal").html(FloatToString(e,2," "));$("#batteryHintRight"+f+" .hintVal").html(FloatToString(e+d,2," "));$("#activeBattery"+f).show();$("#notActiveBattery"+f).hide();}}function parseFloatVal(a){if(a==undefined){return 0;}if(typeof(a)=="number"){return a;}return parseFloat(a.replace(",",".").replace(/ /g,""));}function getStartCurrentQuarterDate(b){var d=parseInt(b.getMonth()/3)*3+1;var c=b.getFullYear();var a=1;return new Date(d+"/"+a+"/"+c);}function parseQuarter(b){var c=b.getMonth();var a=parseInt(c/3)+1;return a+" квартал "+b.getFullYear();}function goTo(a){window.location=a;}function reload(){window.location=window.location.href;}function showOperations(b,a){if($("#"+b).css("display")!="none"){return;}getOperations(b,a);}function closeOperations(a){$("#"+a).hide();$("#list"+a).empty();}function getGETParams(){return decodeURIComponent(window.location.search.slice(1)).split("&").reduce(function a(d,c){c=c.split("=");
d[c[0]]=c[1];return d;},{});}function isLetter(a){return a.match(/[a-zA-Z\u0410-\u044fЁ\u0451\u00CB]/i);}function showHidePassword(c,a,b){var e=(b!=null?$("#"+b).find("#"+c):$("#"+c)).filter("input[type='text'],input[type='password']").get(0);if(e==null){return;}var f=document.createElement("input");f.type=a?"text":"password";f.id=e.id;f.value=e.value;f.size=e.size;f.name=e.name;f.tabIndex=e.tabIndex;f.onfocus=e.onfocus;f.onkeyup=e.onkeyup;if(e.autocomplete!=""){f.autocomplete=e.autocomplete;}f.style.cssText=e.style.cssText;if(e.maxLength!=-1){f.maxLength=e.maxLength;}var d=$(e).data("events");if(d!=null){$.each($(e).data("events"),function(g,h){$.each(h,function(j,k){$(f).bind(k.type,k.handler);});});}$(e).replaceWith(f);}function closeCurrentWindow(){window.open("","_parent","");window.close();}function checkGroupValues(d,b,a){var c=$("#customSelect"+d);c.find('input[name="'+a+'"]').val(b);c.find(".customSelectList").hide();c.find(".customSelectTopText").text($("#"+b).text());c.find(".customSelectHintText").text($("#"+b).text());}function openExtendedDescWin(a){var b=window.open(document.webRoot+"/private/extended/data.do?name="+a,"ExtendedDescriptionData","resizable=1,menubar=0,toolbar=0,scrollbars=1,width=1000,height=600");b.moveTo(screen.width/2-350,screen.height/2-400);}function selectDefaultFromResource(c,d){var a=document.getElementById("fromResource");if(c==1&&a.selectedIndex==0&&a.value==""){var b=a.options[0];a.removeChild(b);a.options[d-1].selected=true;}}function isEmpty(a){return a==undefined||a==null||trim(a)=="";}function isNotEmpty(a){return !isEmpty(a);}function countSymbols(d,e){var b=document.getElementById(e);var f=/(<\/?[@|#][\w \.,!="'&?|\(\)\/]+>)|(\$\{[\w\.\?"'\(\) :]+\})|(\{\d\})|(%\w)|(\s+(?=\s))|\r|\n?/g;var a=d.value.match(/(<# *\w+ +translit *[ ="'\w]*>)/g)!=null;var c=d.value.replace(f,"");if(a){c=c.replace(/[A-z]*/g,"");}b.innerHTML=String(c.length);}function getImageSize(b){if(typeof b.naturalWidth=="undefined"){var a=new Image();a.src=b.src;return a.width;}return b.naturalWidth;}function getMaskedPhoneNumber(b,a){if(!b.validate(a)){console.log("Переданный номер не соответствует заданному формату");return null;}if(b.regexp==templateObj.PHONE_NUMBER_SHORT.regexp){return a.substring(0,4)+"***"+a.substring(7);}else{if(b.regexp==templateObj.PHONE_NUMBER.regexp){return a.substring(0,7)+"***"+a.substring(7);}else{if(b.regexp==templateObj.PHONE_NUMBER_P2P.regexp){return a.substring(0,6)+"***"+a.substring(9);}else{if(b.regexp==templateObj.PHONE_NUMBER_INTERNATIONAL.regexp){return"+"+a.substring(0,1)+" ("+a.substring(1,4)+") ***"+a.substring(7);}}}}}function addAdditionalMessage(a){if(a!=null&&a!=""){addMessage(a,"additionalMessages",true);}}function notificationRequest(f,e,b,a,d){if(f!=undefined){var c=document.webRoot+"/private/async/notification.do";var g="operation=button."+d+"&currentNotificationId="+f+"&currentName="+e+"&offerId="+b+"&offerType="+a;ajaxQuery(g,c,function(h){},null,false);}}function callAjaxActionMethod(a,b){var c="operation=button.";ajaxQuery(c+b,a,function(d){},null,false);}function serializeDiv(a){return $("#"+a).find("input, select, textarea").serialize();}function post(d,e,f){f=f||"post";var c=document.createElement("form");c.setAttribute("method",f);c.setAttribute("action",d);for(var b in e){if(e.hasOwnProperty(b)){var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name",b);a.setAttribute("value",e[b]);c.appendChild(a);}}document.body.appendChild(c);c.submit();}function loyaltyWindow(a,b){b.cancelBubble=true;ajaxQuery(null,a,function(f){var d=trim(f).replace(/&amp;/g,"&");if(d=="error"){var c=document.getElementById("externalWebSiteErrorMsg");if(c!=undefined){c.innerText="Вы не можете посмотреть Вашу программу лояльности. Пожалуйста, повторите попытку позже.";}var e=win.open("externalWebSiteErrorWindow");}else{if(d==""){window.location.reload();}else{var g=document.createElement("div");g.innerHTML=d;window.open(g.firstChild.nodeValue,"loyalty","resizable=1,menubar=0,toolbar=0,scrollbars=1");}}});}function clearSelect(a){if(a==null){return;}while(a.options.length>0){a.options[a.options.length-1]=null;}}function enableInputFields(){var a=$(":input");for(var b=0;b<a.length;b++){a[b].disabled=false;}}function disablePaymentFormInputs(){$("#payment").find(":input").prop("disabled","disabled");}function repeatWord(c,d){var a="";for(var b=0;b<d;++b){a+=c;}return a;}function showHideAdditionalCards(e,d){if(!muteUpdates){muteUpdates=true;var a=$("#"+d[e].target);var b=a.val();var f=$("#"+e).val();for(var c=0;c<d[e].hiddenOptions.length;c++){a.append(d[e].hiddenOptions[c]);}d[e].hiddenOptions.splice(0,d[e].hiddenOptions.length);if(f!=null&&f.indexOf("card:")>-1){filterResources(a,f,e,d);}a.val(b);muteUpdates=false;}}function filterResources(a,h,g,f){var b=new Array();var e=["card:-1","card:0"];var c=a.children("option");a.children("option").each(function(){var k=$(this);var j=k.val();if(e.indexOf(j)>=0){j="";}if(e.indexOf(h)>=0){h="";
}if(j!=""&&h!=""&&((cardInfosTo[h].cardAccount==cardInfosTo[j].cardAccount&&cardInfosTo[h].cardAccount.length>0)||(cardInfosTo[h].cardContracts==cardInfosTo[j].cardContracts))){f[g].hiddenOptions.push(k);}else{b.push(k);}k.detach();});for(var d=0;d<b.length;d++){a.append(b[d]);}}function setDefaultOption(d,c,b){var a=new Option(c);a.value=b;a.setAttribute("selected","selected");d.options[d.options.length]=a;}function ListDescriptor(a,b){this.target=a;this.hiddenOptions=new Array();this.callback=b;}function downloadFileByAjax(a,b){var c=new XMLHttpRequest();c.open("POST",a,true);c.responseType="arraybuffer";c.onload=function(){if(this.status===200){var d="";var f=c.getResponseHeader("Content-Disposition");if(f&&f.indexOf("attachment")!==-1){var g=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;var j=g.exec(f);if((j!=null)&&j[1]){d=j[1].replace(/['"]/g,"");}}var l=c.getResponseHeader("Content-Type");var e=new Blob([this.response],{type:l});if(typeof window.navigator.msSaveBlob!=="undefined"){window.navigator.msSaveBlob(e,d);}else{var k=window.URL||window.webkitURL;var h=k.createObjectURL(e);if(d){var m=document.createElement("a");if(typeof m.download!=="undefined"){m.href=h;m.download=d;document.body.appendChild(m);m.click();}else{window.location=h;}}else{window.location=h;}setTimeout(function(){k.revokeObjectURL(h);},100);}}};c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.send((b==null)?null:$.param(b));}function isInternetExplorer(){var a=function(){var c=window.navigator.userAgent;for(var b=0;b<arguments.length;++b){if(c.indexOf(arguments[b])>0){return true;}}return false;};return a("MSIE ","Trident/","Edge/");}function isJSON(b){try{JSON.parse(b);}catch(a){return false;}return true;}function getDecimalPartOfNumber(a){if(a==null||isNaN(a)){return"";}else{valString=a.toString();lastIndexOfPoint=valString.lastIndexOf(".");return(lastIndexOfPoint>-1?valString.substring(lastIndexOfPoint+1):"");}}